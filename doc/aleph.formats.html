<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>aleph.formats documentation</title></head><body><div id="header"><h1><a href="index.html">Aleph 0.3.0-beta2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3>Namespaces</h3><ul><li class="current"><a href="aleph.formats.html"><span>aleph.formats</span></a></li><li><a href="aleph.http.html"><span>aleph.http</span></a></li><li><a href="aleph.http.client-middleware.html"><span>aleph.http.client-middleware</span></a></li><li><a href="aleph.http.core.html"><span>aleph.http.core</span></a></li><li><a href="aleph.http.netty.html"><span>aleph.http.netty</span></a></li><li><a href="aleph.http.options.html"><span>aleph.http.options</span></a></li><li><a href="aleph.http.websocket.html"><span>aleph.http.websocket</span></a></li><li><a href="aleph.netty.html"><span>aleph.netty</span></a></li><li><a href="aleph.netty.client.html"><span>aleph.netty.client</span></a></li><li><a href="aleph.netty.core.html"><span>aleph.netty.core</span></a></li><li><a href="aleph.netty.server.html"><span>aleph.netty.server</span></a></li><li><a href="aleph.netty.udp.html"><span>aleph.netty.udp</span></a></li><li><a href="aleph.object.html"><span>aleph.object</span></a></li><li><a href="aleph.redis.html"><span>aleph.redis</span></a></li><li><a href="aleph.redis.protocol.html"><span>aleph.redis.protocol</span></a></li><li><a href="aleph.stomp.html"><span>aleph.stomp</span></a></li><li><a href="aleph.stomp.codec.html"><span>aleph.stomp.codec</span></a></li><li><a href="aleph.stomp.core.html"><span>aleph.stomp.core</span></a></li><li><a href="aleph.stomp.endpoint.html"><span>aleph.stomp.endpoint</span></a></li><li><a href="aleph.stomp.router.html"><span>aleph.stomp.router</span></a></li><li><a href="aleph.tcp.html"><span>aleph.tcp</span></a></li><li><a href="aleph.trace.html"><span>aleph.trace</span></a></li><li><a href="aleph.trace.core.html"><span>aleph.trace.core</span></a></li><li><a href="aleph.trace.operators.html"><span>aleph.trace.operators</span></a></li><li><a href="aleph.trace.parse.html"><span>aleph.trace.parse</span></a></li><li><a href="aleph.trace.router.html"><span>aleph.trace.router</span></a></li><li><a href="aleph.udp.html"><span>aleph.udp</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="aleph.formats.html#var-base64-decode"><span>base64-decode</span></a></li><li><a href="aleph.formats.html#var-base64-encode"><span>base64-encode</span></a></li><li><a href="aleph.formats.html#var-bytes-%3Ebyte-array"><span>bytes-&gt;byte-array</span></a></li><li><a href="aleph.formats.html#var-bytes-%3Ebyte-buffer"><span>bytes-&gt;byte-buffer</span></a></li><li><a href="aleph.formats.html#var-bytes-%3Ebyte-buffers"><span>bytes-&gt;byte-buffers</span></a></li><li><a href="aleph.formats.html#var-bytes-%3Echannel-buffer"><span>bytes-&gt;channel-buffer</span></a></li><li><a href="aleph.formats.html#var-bytes-%3Einput-stream"><span>bytes-&gt;input-stream</span></a></li><li><a href="aleph.formats.html#var-bytes-%3Emd5"><span>bytes-&gt;md5</span></a></li><li><a href="aleph.formats.html#var-bytes-%3Esha1"><span>bytes-&gt;sha1</span></a></li><li><a href="aleph.formats.html#var-bytes-%3Estring"><span>bytes-&gt;string</span></a></li><li><a href="aleph.formats.html#var-bytes%3F"><span>bytes?</span></a></li><li><a href="aleph.formats.html#var-channel-%3Einput-stream"><span>channel-&gt;input-stream</span></a></li><li><a href="aleph.formats.html#var-decode-json"><span>decode-json</span></a></li><li><a href="aleph.formats.html#var-decode-xml"><span>decode-xml</span></a></li><li><a href="aleph.formats.html#var-encode-json-%3Ebytes"><span>encode-json-&gt;bytes</span></a></li><li><a href="aleph.formats.html#var-encode-json-%3Estring"><span>encode-json-&gt;string</span></a></li><li><a href="aleph.formats.html#var-encode-xml-%3Ebytes"><span>encode-xml-&gt;bytes</span></a></li><li><a href="aleph.formats.html#var-encode-xml-%3Estring"><span>encode-xml-&gt;string</span></a></li><li><a href="aleph.formats.html#var-input-stream-%3Echannel"><span>input-stream-&gt;channel</span></a></li><li><a href="aleph.formats.html#var-url-decode"><span>url-decode</span></a></li><li><a href="aleph.formats.html#var-url-encode"><span>url-encode</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>aleph.formats documentation</h2><pre class="doc"></pre><div class="public" id="var-base64-decode"><h3>base64-decode</h3><div class="usage"><code>(base64-decode string)</code></div><pre class="doc">Decodes a base64 encoded string into bytes.
</pre></div><div class="public" id="var-base64-encode"><h3>base64-encode</h3><div class="usage"><code>(base64-encode data)</code><code>(base64-encode data breaklines)</code></div><pre class="doc">Encodes the data into a base64 string representation.
</pre></div><div class="public" id="var-bytes-%3Ebyte-array"><h3>bytes-&gt;byte-array</h3><div class="usage"><code>(bytes-&gt;byte-array data)</code><code>(bytes-&gt;byte-array data charset)</code></div><pre class="doc">Convertes bytes into a byte array. By default, 'charset' is UTF-8.
</pre></div><div class="public" id="var-bytes-%3Ebyte-buffer"><h3>bytes-&gt;byte-buffer</h3><div class="usage"><code>(bytes-&gt;byte-buffer data)</code><code>(bytes-&gt;byte-buffer data charset)</code></div><pre class="doc">Converts bytes into a ByteBuffer. By default, 'charset' is UTF-8.

This may require copying multiple buffers into a single buffer. To avoid this,
use bytes-&gt;byte-buffers.</pre></div><div class="public" id="var-bytes-%3Ebyte-buffers"><h3>bytes-&gt;byte-buffers</h3><div class="usage"><code>(bytes-&gt;byte-buffers data)</code><code>(bytes-&gt;byte-buffers data charset)</code></div><pre class="doc">Converts bytes into a sequence of one or more ByteBuffers.
</pre></div><div class="public" id="var-bytes-%3Echannel-buffer"><h3>bytes-&gt;channel-buffer</h3><div class="usage"><code>(bytes-&gt;channel-buffer data)</code><code>(bytes-&gt;channel-buffer data charset)</code></div><pre class="doc">Converts bytes into a Netty ChannelBuffer. By default, 'charset' is UTF-8.
</pre></div><div class="public" id="var-bytes-%3Einput-stream"><h3>bytes-&gt;input-stream</h3><div class="usage"><code>(bytes-&gt;input-stream data)</code><code>(bytes-&gt;input-stream data charset)</code></div><pre class="doc">Converts bytes into an InputStream. By default, 'charset' is UTF-8.
</pre></div><div class="public" id="var-bytes-%3Emd5"><h3>bytes-&gt;md5</h3><div class="usage"><code>(bytes-&gt;md5 data)</code></div><pre class="doc">Returns an MD5 hash for the bytes.
</pre></div><div class="public" id="var-bytes-%3Esha1"><h3>bytes-&gt;sha1</h3><div class="usage"><code>(bytes-&gt;sha1 data)</code></div><pre class="doc">Returns an SHA1 hash for the bytes.
</pre></div><div class="public" id="var-bytes-%3Estring"><h3>bytes-&gt;string</h3><div class="usage"><code>(bytes-&gt;string data)</code><code>(bytes-&gt;string data charset)</code></div><pre class="doc">Converts bytes to a string. By default, 'charset' is UTF-8.
</pre></div><div class="public" id="var-bytes%3F"><h3>bytes?</h3><div class="usage"><code>(bytes? x)</code></div><pre class="doc">Returns true if 'x' is a valid byte format. Valid byte formats are:

Netty ChannelBuffers
ByteBuffers
InputStreams
Strings
Byte arrays
Sequences of ByteBuffers
Sequences of ChannelBuffers</pre></div><div class="public" id="var-channel-%3Einput-stream"><h3>channel-&gt;input-stream</h3><div class="usage"><code>(channel-&gt;input-stream ch)</code><code>(channel-&gt;input-stream ch charset)</code></div><pre class="doc">Consumes messages from a channel that emits bytes, and feeds them into an InputStream.

This does not create any threads.  If a blocking read on the InputStream is performed on
a thread which is responsible for feeding messages into the channel, this will cause a
deadlock.</pre></div><div class="public" id="var-decode-json"><h3>decode-json</h3><div class="usage"><code>(decode-json data)</code><code>(decode-json data keywordize?)</code></div><pre class="doc">Takes bytes or a string that contain JSON, and returns a Clojure data structure representation.
</pre></div><div class="public" id="var-decode-xml"><h3>decode-xml</h3><div class="usage"><code>(decode-xml data)</code></div><pre class="doc">Takes bytes or a string that contains XML, and returns a Clojure hash representing the parsed data.
</pre></div><div class="public" id="var-encode-json-%3Ebytes"><h3>encode-json-&gt;bytes</h3><div class="usage"><code>(encode-json-&gt;bytes data)</code></div><pre class="doc">Transforms a Clojure data structure to JSON, and returns a byte representation of the encoded data.
</pre></div><div class="public" id="var-encode-json-%3Estring"><h3>encode-json-&gt;string</h3><div class="usage"><code>(encode-json-&gt;string data)</code></div><pre class="doc">Transforms a Clojure data structure to JSON, and returns a string representation of the encoded data.
</pre></div><div class="public" id="var-encode-xml-%3Ebytes"><h3>encode-xml-&gt;bytes</h3><div class="usage"><code>(encode-xml-&gt;bytes x)</code><code>(encode-xml-&gt;bytes x charset)</code></div><pre class="doc">Takes a Clojure data structure representing a parse tree or prxml structure, and an XML representation as bytes.

By default, 'charset' is UTF-8.</pre></div><div class="public" id="var-encode-xml-%3Estring"><h3>encode-xml-&gt;string</h3><div class="usage"><code>(encode-xml-&gt;string x)</code><code>(encode-xml-&gt;string x charset)</code></div><pre class="doc">Takes a Clojure data structure representing a parse tree or prxml structure, and returns an XML string.

By default, 'charset' is UTF-8.</pre></div><div class="public" id="var-input-stream-%3Echannel"><h3>input-stream-&gt;channel</h3><div class="usage"><code>(input-stream-&gt;channel stream)</code><code>(input-stream-&gt;channel stream chunk-size)</code></div><pre class="doc">Converts an InputStream to a channel that emits bytes. Spawns a separate thread to read
from the stream.

If 'chunk-size' is specified, the channel will only emit byte sequences of the specified
length, unless the stream is closed before a full chunk can be accumulated.  If it is nil
or non-positive, bytes will be sent through the channel as soon as they enter the InputStream.</pre></div><div class="public" id="var-url-decode"><h3>url-decode</h3><div class="usage"><code>(url-decode s)</code><code>(url-decode s charset)</code><code>(url-decode s charset options)</code></div><pre class="doc">Takes a URL-encoded string, and returns a standard representation of the string.
By default, 'charset' is UTF-8.

'options' may contain a :url-decodings hash, which maps encoded strings onto how they should
be decoded.  For instance, the Java decoder doesn't recognize %99 as a trademark symbol, even
though it's sometimes encoded that way.  To allow for this encoding, you can simply use:

(url-decode s &quot;utf-8&quot; {:url-decodings {&quot;%99&quot; &quot;\u2122&quot;}})</pre></div><div class="public" id="var-url-encode"><h3>url-encode</h3><div class="usage"><code>(url-encode s)</code><code>(url-encode s charset)</code><code>(url-encode s charset options)</code></div><pre class="doc">URL-encodes a string.  By default 'charset' is UTF-8.

'options' may contain a :url-encodings hash, which can specify custom encodings for certain characters
 or substrings.</pre></div></div></body></html>